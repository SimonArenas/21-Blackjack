(()=>{"use strict";let deck=[];const palos=["C","D","H","S"],especiales=["J","Q","K","A"];let puntosJugador=0,puntosComputadora=0;const playerPoints=document.getElementById("player__points"),computerPoints=document.getElementById("computer__points"),modal=document.getElementById("modal");let element=document.getElementById("message");const message=element.textContent,btnPedirCarta=document.getElementById("another-card"),btnNuevoJuego=document.getElementById("new-game"),btnDetenerJuego=document.getElementById("game-save"),cartasJugador=document.getElementById("player__cards"),cartasComputadora=document.getElementById("computer__cards"),quitarModal=status=>{modal.style.display=status};quitarModal("none");const crearDeck=()=>{for(let index=2;index<=10;index++)for(let palo of palos)deck.push(index+palo);for(let palo of palos)for(let especial of especiales)deck.push(especial+palo);return deck=_.shuffle(deck),deck};crearDeck(deck);const pedirCarta=()=>{if(0===deck.length)throw"No hay cartas en el deck";let carta;return deck.pop()},valorCarta=carta=>{let valorCarta=2===carta.length?carta[0]:carta[0]+carta[1];return isNaN(valorCarta)?"A"===valorCarta?11:10:1*valorCarta},turnoComputadora=puntosMinimo=>{do{const carta=pedirCarta();puntosComputadora+=valorCarta(carta),computerPoints.innerText=puntosComputadora;const imgCarta=document.createElement("img");if(imgCarta.src=`./assets/cartas/${carta}.png`,cartasComputadora.append(imgCarta),imgCarta.classList.add("computer__card"),puntosMinimo>21)break}while(puntosComputadora<puntosMinimo&&puntosMinimo<=21);setTimeout(()=>{puntosComputadora===puntosMinimo?(quitarModal("block"),element.textContent="Empate"):puntosMinimo>21?(quitarModal("block"),element.textContent="Computadora gana",element.classList.add="modal"):puntosComputadora>21?(quitarModal("block"),element.textContent="Jugador gana",element.classList.add="modal"):(quitarModal("block"),element.textContent="Computadora gana",element.classList.add="modal")},50)};btnPedirCarta.addEventListener("click",()=>{const carta=pedirCarta();puntosJugador+=valorCarta(carta),playerPoints.innerText=puntosJugador;const imgCarta=document.createElement("img");imgCarta.src=`./assets/cartas/${carta}.png`,cartasJugador.append(imgCarta),imgCarta.classList.add("player__card"),puntosJugador>21?(quitarModal("block"),element.textContent="Computadora gana",btnPedirCarta.disabled=!0,btnDetenerJuego.disabled=!0,turnoComputadora(puntosJugador)):21===puntosJugador&&(quitarModal("block"),element.textContent="21, Â¡Genial!",btnDetenerJuego.disabled=!0,btnPedirCarta.disabled=!0,turnoComputadora(puntosJugador))}),btnDetenerJuego.addEventListener("click",()=>{btnPedirCarta.disabled=!0,btnDetenerJuego.disabled=!0,turnoComputadora(puntosJugador)}),btnNuevoJuego.addEventListener("click",()=>{window.location.reload(!1)})})();